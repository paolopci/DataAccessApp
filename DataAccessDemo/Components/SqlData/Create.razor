@RenderMode.InteractiveServer
@inject IPeopleData sql

<h3>Create Person</h3>

<EditForm Model="person" OnValidSubmit="CreatePerson" FormName="createPersonForm">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        <label for="FirstName">First Name</label>
        <InputText id="FirstName" @bind-Value="person.FirstName" />
        <ValidationMessage For="() => person.FirstName" />
    </div>
    <div class="form-group">
        <label for="LastName">Last Name</label>
        <InputText id="LastName" @bind-Value="person.LastName" />
        <ValidationMessage For="() => person.LastName" />
    </div>
    <button type="submit">Create</button>
</EditForm>




@code {
    private PersonModel person = new();

    private async Task CreatePerson()
    {
        await sql.InsertPerson(person);
        person = new();
    }
}